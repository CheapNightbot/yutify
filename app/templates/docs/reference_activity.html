{% extends "docs/base.html" %}

{% block nav_title %}
API Documentation
{% endblock %}

{% block main %}
<main class="container">
    <h1>Get Currently Playing Music</h1>
    <p>Get information about music you are currently listening to.</p>

    <div class="flex-row padding-r">
        <select id="methods" name="methods">
            <option value="get">GET</option>
        </select>
        <input class="endpoint" type="text" value="/api/me" readonly>
        <span data-tooltip="Authorization Code Required" data-placement="left">
            <i class="fa-solid fa-lock"></i>
        </span>
    </div>

    <h3>Request</h3>
    <div>
        <div class="req-para-info">
            <div>
                <kbd>service</kbd> <code>string</code>
            </div>
            <div class="flex-row">
                <span class="line"></span>
                <mark>Optional</mark>
            </div>
        </div>
        <p>
            The music service name to retrieve listening activity metadata from. It must be linked first in your account settings!
        </p>
        <p>
            If provided, music information/metadata will be retrieved for the music you are currently listening to on
            this service.
            If it is not provided or does not contain allowed values, it will be simply ignored and music
            information/metadata will
            be retrieved for all the linked services.
        </p>
        <p>
            If music information requested for all linked services, the one where you are currently listening to music
            will be given priority.
            However, if (for whatever reason), you are listening to music on all the linked services, these will be
            given priority at random. That is, you can't be sure for which linked service you will get music information returned.
        </p>
        <p>
            <b>Default</b>: <code>"all"</code> <br>
            <b>Allowed values</b>: <code>"all"</code>, <code>"lastfm"</code>, <code>"spotify"</code> <br>
            <b>Note</b>: The query parameter for <code>service</code> is NOT <code>?service=&lt;name&gt;</code>
            &lpar;key-value pair&rpar;! Instead, you just provide the service name directly as a key. <br>
            <b>Example</b>: <code>/api/me<ins>?lastfm</ins></code>
        </p>
    </div>

    <div class="flex-row left">
        <h3>Response</h3>
        <nav role="tab-control">
            <ul>
                <li><label for="tab1">200</label></li>
                <li><label for="tab2">404</label></li>
                <li><label for="tab3">429</label></li>
            </ul>
        </nav>
    </div>
    <div class="container">
        <div role="tabs">
            <section>
                <input hidden="hidden" type="radio" name="tabs" id="tab1" checked="checked" />
                <figure>
                    Search response
                </figure>

                <input hidden="hidden" type="radio" name="tabs" id="tab2" />

                <figure>
                    Music not found
                </figure>

                <input hidden="hidden" type="radio" name="tabs" id="tab3" />

                <figure>
                    Rate limit exceeded
                </figure>
            </section>
        </div>
    </div>
</main>
{% endblock %}
